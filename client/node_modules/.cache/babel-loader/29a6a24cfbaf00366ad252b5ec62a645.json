{"ast":null,"code":"export const cart = (state = [], action) => {\n  switch (action.type) {\n    case \"ADDED_TO_CART\":\n      const someInCart = state.some(item => item._id === action.item._id);\n      let updatedCart;\n\n      while (action.item.quantity > 0) {\n        if (someInCart) {\n          updatedCart = state.map(product => {\n            if (product._id === action.item._id) {\n              return Object.assign({}, product, {\n                quantity: product.quantity + 1\n              });\n            } else {\n              return product;\n            }\n          });\n        } else {\n          updatedCart = state.concat(Object.assign({}, action.item, {\n            quantity: 1\n          }));\n        }\n\n        return updatedCart;\n      }\n\n      return state;\n\n    case \"CART_ITEMS_RECEIVED\":\n      return action.payload;\n\n    case \"CHECKOUT\":\n      return [];\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/srdjan/Desktop/2105/shopping_cart_solution/client/src/lib/reducers/cart.js"],"names":["cart","state","action","type","someInCart","some","item","_id","updatedCart","quantity","map","product","Object","assign","concat","payload"],"mappings":"AAAA,OAAO,MAAMA,IAAI,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC1C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,eAAL;AACE,YAAMC,UAAU,GAAGH,KAAK,CAACI,IAAN,CAAYC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaL,MAAM,CAACI,IAAP,CAAYC,GAA9C,CAAnB;AACA,UAAIC,WAAJ;;AAEA,aAAON,MAAM,CAACI,IAAP,CAAYG,QAAZ,GAAuB,CAA9B,EAAiC;AAC/B,YAAIL,UAAJ,EAAgB;AACdI,UAAAA,WAAW,GAAGP,KAAK,CAACS,GAAN,CAAWC,OAAD,IAAa;AACnC,gBAAIA,OAAO,CAACJ,GAAR,KAAgBL,MAAM,CAACI,IAAP,CAAYC,GAAhC,EAAqC;AACnC,qBAAOK,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,OAAlB,EAA2B;AAChCF,gBAAAA,QAAQ,EAAEE,OAAO,CAACF,QAAR,GAAmB;AADG,eAA3B,CAAP;AAGD,aAJD,MAIO;AACL,qBAAOE,OAAP;AACD;AACF,WARa,CAAd;AASD,SAVD,MAUO;AACLH,UAAAA,WAAW,GAAGP,KAAK,CAACa,MAAN,CACZF,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBX,MAAM,CAACI,IAAzB,EAA+B;AAAEG,YAAAA,QAAQ,EAAE;AAAZ,WAA/B,CADY,CAAd;AAGD;;AACD,eAAOD,WAAP;AACD;;AACD,aAAOP,KAAP;;AACF,SAAK,qBAAL;AACE,aAAOC,MAAM,CAACa,OAAd;;AACF,SAAK,UAAL;AACE,aAAO,EAAP;;AACF;AACE,aAAOd,KAAP;AA7BJ;AA+BD,CAhCM","sourcesContent":["export const cart = (state = [], action) => {\n  switch (action.type) {\n    case \"ADDED_TO_CART\":\n      const someInCart = state.some((item) => item._id === action.item._id);\n      let updatedCart;\n\n      while (action.item.quantity > 0) {\n        if (someInCart) {\n          updatedCart = state.map((product) => {\n            if (product._id === action.item._id) {\n              return Object.assign({}, product, {\n                quantity: product.quantity + 1,\n              });\n            } else {\n              return product;\n            }\n          });\n        } else {\n          updatedCart = state.concat(\n            Object.assign({}, action.item, { quantity: 1 })\n          );\n        }\n        return updatedCart;\n      }\n      return state;\n    case \"CART_ITEMS_RECEIVED\":\n      return action.payload;\n    case \"CHECKOUT\":\n      return [];\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}