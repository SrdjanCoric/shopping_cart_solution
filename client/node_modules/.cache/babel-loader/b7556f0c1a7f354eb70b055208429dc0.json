{"ast":null,"code":"var _jsxFileName = \"/home/srdjan/Desktop/LS-projects/shopping_cart_sol_hooks_days/client/src/components/Shop.js\";\nimport React, { useState, useEffect } from \"react\";\nimport ShoppingCart from \"./ShoppingCart\";\nimport ProductListing from \"./ProductListing\";\nimport AddProductForm from \"./AddProductForm\";\nimport productData from \"../lib/data\";\n\nconst Shop = () => {\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    setProducts(productData);\n  }, []);\n\n  const indexOfProductInCart = id => {\n    return cart.findIndex(product => product.id === id);\n  };\n\n  const handleAddToCart = productId => {\n    let product = products.find(product => product.id === productId);\n\n    if (product.quantity === 0) {\n      return;\n    }\n\n    let idxInCart = indexOfProductInCart(productId);\n\n    if (idxInCart === -1) {\n      setCart(cart.concat(Object.assign({}, product, {\n        quantity: 1\n      })));\n    } else {\n      let newCart = cart.map(p => {\n        if (p.id === productId) {\n          return Object.assign({}, p, {\n            quantity: p.quantity + 1\n          });\n        } else {\n          return p;\n        }\n      });\n      setCart(newCart);\n    }\n\n    let newProducts = products.map(p => {\n      if (p.id === productId) {\n        return Object.assign({}, p, {\n          quantity: p.quantity - 1\n        });\n      } else {\n        return p;\n      }\n    });\n    setProducts(newProducts);\n  };\n\n  const handleCheckout = () => {\n    setCart([]);\n  };\n\n  const handleDeleteProduct = productId => {\n    setProducts(products.filter(p => p.id !== productId));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ShoppingCart, {\n    cart: cart,\n    onCheckout: handleCheckout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ProductListing, {\n    products: products,\n    onAddToCart: handleAddToCart,\n    onDeleteProduct: handleDeleteProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AddProductForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Shop;","map":{"version":3,"sources":["/home/srdjan/Desktop/LS-projects/shopping_cart_sol_hooks_days/client/src/components/Shop.js"],"names":["React","useState","useEffect","ShoppingCart","ProductListing","AddProductForm","productData","Shop","products","setProducts","cart","setCart","indexOfProductInCart","id","findIndex","product","handleAddToCart","productId","find","quantity","idxInCart","concat","Object","assign","newCart","map","p","newProducts","handleCheckout","handleDeleteProduct","filter"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ShoppingCart from \"./ShoppingCart\";\nimport ProductListing from \"./ProductListing\";\nimport AddProductForm from \"./AddProductForm\";\nimport productData from \"../lib/data\";\n\nconst Shop = () => {\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n\n  useEffect(() => {\n    setProducts(productData);\n  }, []);\n\n  const indexOfProductInCart = (id) => {\n    return cart.findIndex((product) => product.id === id);\n  };\n\n  const handleAddToCart = (productId) => {\n    let product = products.find((product) => product.id === productId);\n    if (product.quantity === 0) {\n      return;\n    }\n    let idxInCart = indexOfProductInCart(productId);\n    if (idxInCart === -1) {\n      setCart(cart.concat(Object.assign({}, product, { quantity: 1 })));\n    } else {\n      let newCart = cart.map((p) => {\n        if (p.id === productId) {\n          return Object.assign({}, p, { quantity: p.quantity + 1 });\n        } else {\n          return p;\n        }\n      });\n      setCart(newCart);\n    }\n    let newProducts = products.map((p) => {\n      if (p.id === productId) {\n        return Object.assign({}, p, { quantity: p.quantity - 1 });\n      } else {\n        return p;\n      }\n    });\n    setProducts(newProducts);\n  };\n\n  const handleCheckout = () => {\n    setCart([]);\n  };\n\n  const handleDeleteProduct = (productId) => {\n    setProducts(products.filter((p) => p.id !== productId));\n  };\n  return (\n    <div id=\"app\">\n      <ShoppingCart cart={cart} onCheckout={handleCheckout} />\n\n      <main>\n        <ProductListing\n          products={products}\n          onAddToCart={handleAddToCart}\n          onDeleteProduct={handleDeleteProduct}\n        />\n        <AddProductForm />\n      </main>\n    </div>\n  );\n};\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}