{"ast":null,"code":"import React,{useCallback,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import CartItem from\"./CartItem\";import{fetchCartItemsAction,checkoutAction}from\"../actions/productActions\";var ShoppingCart=function ShoppingCart(){var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});useEffect(function(){dispatch(fetchCartItemsAction());},[]);var checkout=useCallback(function(){dispatch(checkoutAction());},[dispatch]);var cartItems=cart.map(function(item){return/*#__PURE__*/React.createElement(CartItem,Object.assign({key:item._id},item));});var calculateTotal=Math.round(cart.reduce(function(acc,item){return acc+item.price*item.quantity;},0)*100)/100;return/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"The Shop!\"),cart.length===0?/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Your Cart\"),/*#__PURE__*/React.createElement(\"p\",null,\"Your cart is empty\"),/*#__PURE__*/React.createElement(\"p\",null,\"Total: $0\"),/*#__PURE__*/React.createElement(\"a\",{className:\"button checkout disabled\"},\"Checkout\")):/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Your Cart\"),/*#__PURE__*/React.createElement(\"table\",{className:\"cart-items\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Item\"),/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Price\"))),/*#__PURE__*/React.createElement(\"tbody\",null,cartItems,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"3\",className:\"total\"},\"Total: $\",calculateTotal.toFixed(2))))),/*#__PURE__*/React.createElement(\"a\",{className:\"button checkout\",onClick:checkout},\"Checkout\")));};export default ShoppingCart;","map":{"version":3,"sources":["/home/srdjan/Desktop/2105/shopping_cart_solution/client/src/components/ShoppingCart.jsx"],"names":["React","useCallback","useEffect","useDispatch","useSelector","CartItem","fetchCartItemsAction","checkoutAction","ShoppingCart","dispatch","cart","state","checkout","cartItems","map","item","_id","calculateTotal","Math","round","reduce","acc","price","quantity","length","toFixed"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,KAA8C,OAA9C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OACEC,oBADF,CAEEC,cAFF,KAGO,2BAHP,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAMO,CAAAA,IAAI,CAAGN,WAAW,CAAC,SAACO,KAAD,CAAW,CAClC,MAAOA,CAAAA,KAAK,CAACD,IAAb,CACD,CAFuB,CAAxB,CAIAR,SAAS,CAAC,UAAM,CACdO,QAAQ,CAACH,oBAAoB,EAArB,CAAR,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMM,CAAAA,QAAQ,CAAGX,WAAW,CAAC,UAAM,CACjCQ,QAAQ,CAACF,cAAc,EAAf,CAAR,CACD,CAF2B,CAEzB,CAACE,QAAD,CAFyB,CAA5B,CAIA,GAAMI,CAAAA,SAAS,CAAGH,IAAI,CAACI,GAAL,CAAS,SAACC,IAAD,qBAAU,oBAAC,QAAD,gBAAU,GAAG,CAAEA,IAAI,CAACC,GAApB,EAA6BD,IAA7B,EAAV,EAAT,CAAlB,CAEA,GAAME,CAAAA,cAAc,CAClBC,IAAI,CAACC,KAAL,CACET,IAAI,CAACU,MAAL,CAAY,SAACC,GAAD,CAAMN,IAAN,QAAeM,CAAAA,GAAG,CAAGN,IAAI,CAACO,KAAL,CAAaP,IAAI,CAACQ,QAAvC,EAAZ,CAA6D,CAA7D,EAAkE,GADpE,EAEI,GAHN,CAIA,mBACE,+CACE,0CADF,CAEGb,IAAI,CAACc,MAAL,GAAgB,CAAhB,cACC,2BAAK,SAAS,CAAC,MAAf,eACE,0CADF,cAEE,kDAFF,cAGE,yCAHF,cAIE,yBAAG,SAAS,CAAC,0BAAb,aAJF,CADD,cAQC,2BAAK,SAAS,CAAC,MAAf,eACE,0CADF,cAEE,6BAAO,SAAS,CAAC,YAAjB,eACE,8CACE,2CACE,qCADF,cAEE,yCAFF,cAGE,sCAHF,CADF,CADF,cAQE,iCACGX,SADH,cAGE,2CACE,0BAAI,OAAO,CAAC,GAAZ,CAAgB,SAAS,CAAC,OAA1B,aACWI,cAAc,CAACQ,OAAf,CAAuB,CAAvB,CADX,CADF,CAHF,CARF,CAFF,cAoBE,yBAAG,SAAS,CAAC,iBAAb,CAA+B,OAAO,CAAEb,QAAxC,aApBF,CAVJ,CADF,CAsCD,CA3DD,CA6DA,cAAeJ,CAAAA,YAAf","sourcesContent":["import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CartItem from \"./CartItem\";\nimport {\n  fetchCartItemsAction,\n  checkoutAction,\n} from \"../actions/productActions\";\n\nconst ShoppingCart = () => {\n  const dispatch = useDispatch();\n\n  const cart = useSelector((state) => {\n    return state.cart;\n  });\n\n  useEffect(() => {\n    dispatch(fetchCartItemsAction());\n  }, []);\n\n  const checkout = useCallback(() => {\n    dispatch(checkoutAction());\n  }, [dispatch]);\n\n  const cartItems = cart.map((item) => <CartItem key={item._id} {...item} />);\n\n  const calculateTotal =\n    Math.round(\n      cart.reduce((acc, item) => acc + item.price * item.quantity, 0) * 100\n    ) / 100;\n  return (\n    <header>\n      <h1>The Shop!</h1>\n      {cart.length === 0 ? (\n        <div className=\"cart\">\n          <h2>Your Cart</h2>\n          <p>Your cart is empty</p>\n          <p>Total: $0</p>\n          <a className=\"button checkout disabled\">Checkout</a>\n        </div>\n      ) : (\n        <div className=\"cart\">\n          <h2>Your Cart</h2>\n          <table className=\"cart-items\">\n            <thead>\n              <tr>\n                <th>Item</th>\n                <th>Quantity</th>\n                <th>Price</th>\n              </tr>\n            </thead>\n            <tbody>\n              {cartItems}\n\n              <tr>\n                <td colSpan=\"3\" className=\"total\">\n                  Total: ${calculateTotal.toFixed(2)}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <a className=\"button checkout\" onClick={checkout}>\n            Checkout\n          </a>\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}